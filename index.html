<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="cache-bust" content="v67-embedded-svg-icons-fixed-2024">
    <title>üì∏ –§–æ—Ç–æ–∫–∞–º–µ—Ä–∞</title>
    <link rel="stylesheet" href="style.css?v=46&buttons=grey">

    <link rel="manifest" href="manifest.json?v=ios-fix-2024">
    
    <!-- Fallback SVG —ñ–∫–æ–Ω–∫–∞ (–≤–±—É–¥–æ–≤–∞–Ω–∞) -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZGVmcz4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iYmciIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPgogICAgICA8c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjojNjY3ZWVhIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iNTAlIiBzdHlsZT0ic3RvcC1jb2xvcjojNzY0YmEyIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6IzVhNjdkOCIvPgogICAgPC9saW5lYXJHcmFkaWVudD4KICA8L2RlZnM+CiAgPGNpcmNsZSBjeD0iOTAiIGN5PSI5MCIgcj0iODgiIGZpbGw9InVybCgjYmcpIi8+CiAgPHJlY3QgeD0iNDUiIHk9IjgxIiB3aWR0aD0iOTAiIGhlaWdodD0iNjMiIGZpbGw9IiMzMzMiIHJ4PSI0Ii8+CiAgPGNpcmNsZSBjeD0iOTAiIGN5PSIxMTEuNiIgcj0iMjQuMyIgZmlsbD0iIzU1NSIvPgogIDxjaXJjbGUgY3g9IjkwIiBjeT0iMTExLjYiIHI9IjIxLjYiIGZpbGw9IiMxYTFhMmUiLz4KICA8Y2lyY2xlIGN4PSI4Mi44IiBjeT0iMTA0LjQiIHI9IjYuNSIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjQpIi8+CiAgPGNpcmNsZSBjeD0iMTM1IiBjeT0iOTkuOSIgcj0iNy4yIiBmaWxsPSIjZmZmIi8+Cjwvc3ZnPg==">
    
    <!-- –û—Å–Ω–æ–≤–Ω—ñ —ñ–∫–æ–Ω–∫–∏ (PNG —Å–ø–æ—á–∞—Ç–∫—É –¥–ª—è –∫—Ä–∞—â–æ—ó –ø—ñ–¥—Ç—Ä–∏–º–∫–∏) -->
    <link rel="icon" type="image/png" sizes="180x180" href="/camera-icon-180.png?v=fix2024">
    <link rel="icon" type="image/png" sizes="152x152" href="/camera-icon-152.png?v=fix2024">
    <link rel="icon" type="image/png" sizes="120x120" href="/camera-icon-120.png?v=fix2024">
    
    <!-- iOS PWA –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ –¢–Ü–õ–¨–ö–ò –∑ PNG —Ñ–∞–π–ª–∞–º–∏ -->
    <link rel="apple-touch-icon" sizes="180x180" href="/camera-icon-180.png?v=newpng2024">
    <link rel="apple-touch-icon" sizes="152x152" href="/camera-icon-152.png?v=newpng2024">
    <link rel="apple-touch-icon" sizes="167x167" href="/camera-icon-180.png?v=newpng2024">
    <link rel="apple-touch-icon" sizes="120x120" href="/camera-icon-120.png?v=newpng2024">
    <link rel="apple-touch-icon" href="/camera-icon-180.png?v=newpng2024">
    
    <!-- iOS —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –º–µ—Ç–∞-—Ç–µ–≥–∏ -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="–ö–∞–º–µ—Ä–∞">
    <meta name="apple-touch-fullscreen" content="yes">
    <meta name="apple-mobile-web-app-orientations" content="portrait-primary">
    
    <!-- –î–æ–¥–∞—Ç–∫–æ–≤—ñ iOS –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-status-bar-style" content="default">
    <meta name="mobile-web-app-title" content="–ö–∞–º–µ—Ä–∞">
    
    
    <!-- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ä—ñ–∑–Ω–∏—Ö –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤ iOS -->
    <link rel="apple-touch-startup-image" href="/camera-icon-180.png?v=fix2024">
    <link rel="apple-touch-icon-precomposed" sizes="180x180" href="/camera-icon-180.png?v=fix2024">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/camera-icon-152.png?v=fix2024">
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/camera-icon-120.png?v=fix2024">
    
    <!-- Safari Pinned Tab -->
    <link rel="mask-icon" href="/camera-icon.svg" color="#667eea">
    
    <!-- –ó–∞–≥–∞–ª—å–Ω—ñ PWA –º–µ—Ç–∞-—Ç–µ–≥–∏ -->
    <meta name="theme-color" content="#764ba2">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="üì∏ –ö–∞–º–µ—Ä–∞">
    <meta name="msapplication-TileColor" content="#764ba2">
    <meta name="msapplication-config" content="none">
    
    <!-- –î–æ–¥–∞—Ç–∫–æ–≤—ñ iOS –º–µ—Ç–∞-—Ç–µ–≥–∏ -->
    <meta name="format-detection" content="telephone=no">
</head>
<body>
    <div class="container">
        <header class="mobile-header" style="display: none;">
            <div class="header-content">
                <h1>üì∏ –§–æ—Ç–æ–∫–∞–º–µ—Ä–∞</h1>
                <div class="clock" id="clock"></div>
            </div>
        </header>
        
        <main class="mobile-main">
            <div class="camera-section">
                <div class="video-container" style="position: absolute; top: 0; left: 0; width: 100vw; height: 100vh; overflow: hidden; z-index: 1;">
                    <video id="video" muted playsinline controls="false" style="width: 100vw; height: 100vh; object-fit: cover; border-radius: 0; border: none; box-shadow: none;"></video>
                    <canvas id="canvas" style="display: none;"></canvas>
                    
                    <!-- –ú–æ–±—ñ–ª—å–Ω—ñ –∫–Ω–æ–ø–∫–∏ –∫–∞–º–µ—Ä–∏ -->
                    <div class="mobile-camera-controls" style="position: fixed; bottom: 140px; left: 50%; transform: translateX(-50%); z-index: 1001; background: transparent; padding: 0; border-radius: 0; backdrop-filter: none; border: none; box-shadow: none; display: flex; gap: 20px; align-items: center;">
                        <button id="zoomOutBtn" class="mobile-zoom-btn btn-style-2">
                            <span class="zoom-icon">üîç‚ûñ</span>
                        </button>
                        <button id="timerBtn" class="mobile-timer-btn btn-style-3">
                            <span class="timer-icon">‚è±Ô∏è</span>
                        </button>
                        <button id="captureBtn" class="mobile-capture-btn btn-style-1">
                            <span class="capture-icon">‚≠ò</span>
                        </button>
                        <button id="burstBtn" class="mobile-burst-btn btn-style-4">
                            <span class="burst-icon">üì∏üí®</span>
                        </button>
                        <button id="zoomInBtn" class="mobile-zoom-btn btn-style-2">
                            <span class="zoom-icon">üîç‚ûï</span>
                        </button>
                    </div>
                    
                    <!-- –î–æ–¥–∞—Ç–∫–æ–≤—ñ –º–æ–±—ñ–ª—å–Ω—ñ –∫–Ω–æ–ø–∫–∏ -->
                    <div class="mobile-secondary-controls" style="position: fixed; bottom: 200px; left: 50%; transform: translateX(-50%); z-index: 1001; display: flex; gap: 15px;">
                        <button id="switchCameraBtn" class="mobile-switch-btn camera-switch-btn btn-style-2">
                            <span class="switch-icon">‚ü≤</span>
                        </button>
                        <button id="flashBtn" class="mobile-flash-btn btn-style-3">
                            <span class="flash-icon">‚ö°</span>
                        </button>
                    </div>
                    
                    <!-- –ö–Ω–æ–ø–∫–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è PWA -->
                    <div class="pwa-install-prompt" id="pwaInstallPrompt" style="position: fixed; bottom: 80px; left: 50%; transform: translateX(-50%); z-index: 1002; background: rgba(0, 0, 0, 0.9); backdrop-filter: blur(15px); border-radius: 15px; padding: 15px 20px; color: white; display: none; border: 1px solid rgba(255, 255, 255, 0.2); min-width: 280px; text-align: center;">
                        <div style="margin-bottom: 10px; font-size: 1.1rem;">üì± –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –Ω–∞ –µ–∫—Ä–∞–Ω</div>
                        <div style="font-size: 0.9rem; margin-bottom: 15px; opacity: 0.8;">–û—Ç—Ä–∏–º–∞–π—Ç–µ —à–≤–∏–¥–∫–∏–π –¥–æ—Å—Ç—É–ø –¥–æ –∫–∞–º–µ—Ä–∏!</div>
                        <div style="display: flex; gap: 10px; justify-content: center;">
                            <button id="installPwaBtn" class="btn-style-1" style="background: #4CAF50; color: white; border: none; padding: 8px 16px; border-radius: 8px; font-size: 0.9rem; cursor: pointer;">
                                –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏
                            </button>
                            <button id="dismissPwaBtn" class="btn-style-2" style="background: #666; color: white; border: none; padding: 8px 16px; border-radius: 8px; font-size: 0.9rem; cursor: pointer;">
                                –ü—ñ–∑–Ω—ñ—à–µ
                            </button>
                        </div>
                    </div>
                    
                    <!-- –Ü–Ω–¥–∏–∫–∞—Ç–æ—Ä –∫–∞–º–µ—Ä–∏ -->
                    <div class="camera-indicator">
                        <div class="camera-dot"></div>
                        <span>–ö–∞–º–µ—Ä–∞ –∞–∫—Ç–∏–≤–Ω–∞</span>
                    </div>
                    
                    <!-- –í—ñ–¥–∂–µ—Ç –ø–æ–≥–æ–¥–∏ -->
                    <div class="weather-widget" id="weatherWidget" style="position: fixed; top: 30px; right: 30px; background: rgba(0, 0, 0, 0.6); backdrop-filter: blur(15px); border-radius: 15px; padding: 12px 16px; color: white; font-size: 0.85rem; z-index: 1000; display: none; border: 1px solid rgba(255, 255, 255, 0.2);">
                        <div id="weatherInfo">üìç –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</div>
                    </div>
                    
                    <!-- –Ü–Ω–¥–∏–∫–∞—Ç–æ—Ä–∏ —Ñ—É–Ω–∫—Ü—ñ–π -->
                    <div class="camera-indicators" style="position: fixed; top: 30px; left: 30px; z-index: 1000; display: flex; flex-direction: column; gap: 10px;">
                        <div id="zoomIndicator" class="feature-indicator" style="display: none; background: rgba(0, 0, 0, 0.6); backdrop-filter: blur(15px); border-radius: 25px; padding: 8px 15px; color: white; font-size: 0.8rem;">
                            üîç –ó—É–º: <span id="zoomLevel">1.0x</span>
                        </div>
                        <div id="timerIndicator" class="feature-indicator" style="display: none; background: rgba(255, 193, 7, 0.9); backdrop-filter: blur(15px); border-radius: 25px; padding: 8px 15px; color: white; font-size: 0.9rem; font-weight: bold;">
                            ‚è±Ô∏è <span id="timerCountdown">3</span>
                        </div>
                        <div id="burstIndicator" class="feature-indicator" style="display: none; background: rgba(220, 53, 69, 0.9); backdrop-filter: blur(15px); border-radius: 25px; padding: 8px 15px; color: white; font-size: 0.8rem;">
                            üì∏üí® –°–µ—Ä—ñ—è: <span id="burstCount">0</span>/5
                        </div>
                    </div>
                </div>
                
                <!-- –î–µ—Å–∫—Ç–æ–ø–Ω—ñ –∫–Ω–æ–ø–∫–∏ -->
                <div class="desktop-controls">
                    <button id="captureBtnDesktop" class="btn btn-primary btn-style-1">
                        üì∑ –ó—Ä–æ–±–∏—Ç–∏ —Ñ–æ—Ç–æ
                    </button>
                    <button id="switchCameraBtnDesktop" class="btn btn-secondary btn-style-2">
                        üîÑ –ó–º—ñ–Ω–∏—Ç–∏ –∫–∞–º–µ—Ä—É
                    </button>
                    <button id="flashBtnDesktop" class="btn btn-accent btn-style-3">
                        ‚ö° –°–ø–∞–ª–∞—Ö
                    </button>
                </div>
            </div>
            
            <div class="gallery-section">
                <div class="gallery-header">
                    <h2>üìÅ –ì–∞–ª–µ—Ä–µ—è</h2>
                    <div class="gallery-controls">
                        <button id="clearGalleryBtn" class="clear-btn btn-style-4">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç–∏</button>
                        <button id="downloadAllBtn" class="download-btn btn-style-5">‚¨áÔ∏è –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤—Å—ñ</button>
                        <button id="saveToDeviceBtn" class="save-device-btn btn-style-1">üíæ –ó–±–µ—Ä–µ–≥—Ç–∏ –Ω–∞ –ø—Ä–∏—Å—Ç—Ä—ñ–π</button>
                        <button id="slideshowGalleryBtn" class="slideshow-gallery-btn btn-style-3">üé¨ –°–ª–∞–π–¥-—à–æ—É</button>
                    </div>
                </div>
                <div class="gallery" id="gallery">
                    <div class="gallery-main-photos" id="galleryMain"></div>
                    <div class="gallery-thumbnails" id="galleryThumbs"></div>
                </div>
            </div>
        </main>
        
        <footer class="mobile-footer">
            <p>–°—Ç–≤–æ—Ä–µ–Ω–æ –∑ ‚ù§Ô∏è –¥–ª—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—É–≤–∞–Ω–Ω—è</p>
        </footer>
    </div>
    
    <!-- –ú–æ–±—ñ–ª—å–Ω–µ –º–µ–Ω—é -->
    <div class="mobile-menu">
        <div class="menu-item active" data-section="camera">
            <span class="menu-icon">üì∑</span>
            <span class="menu-text">–ö–∞–º–µ—Ä–∞</span>
        </div>
        <div class="menu-item" data-section="gallery">
            <span class="menu-icon">üñºÔ∏è</span>
            <span class="menu-text">–ì–∞–ª–µ—Ä–µ—è</span>
        </div>
        <div class="menu-item" data-section="settings">
            <span class="menu-icon">‚öôÔ∏è</span>
            <span class="menu-text">–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</span>
        </div>
    </div>
    
    <!-- –ü–∞–Ω–µ–ª—å –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å -->
    <div class="settings-panel" id="settingsPanel" style="display: none;">
        <div class="settings-content">
            <h3>‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</h3>
            
            <div class="setting-group">
                <h4>üé® –°—Ç–∏–ª—å –∫–Ω–æ–ø–æ–∫</h4>
                <div class="button-style-selector">
                    <button class="style-btn active" data-style="1">–°—Ç–∏–ª—å 1</button>
                    <button class="style-btn" data-style="2">–°—Ç–∏–ª—å 2</button>
                    <button class="style-btn" data-style="3">–°—Ç–∏–ª—å 3</button>
                    <button class="style-btn" data-style="4">–°—Ç–∏–ª—å 4</button>
                    <button class="style-btn" data-style="5">–°—Ç–∏–ª—å 5</button>
                </div>
            </div>

            <div class="setting-group">
                <h4>üåà –¢–µ–º–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è</h4>
                <div class="theme-selector">
                    <button class="theme-btn" data-theme="default">üåû –°–≤—ñ—Ç–ª–∞</button>
                    <button class="theme-btn" data-theme="dark">üåô –¢–µ–º–Ω–∞</button>
                    <button class="theme-btn" data-theme="ocean">üåä –û–∫–µ–∞–Ω</button>
                    <button class="theme-btn" data-theme="forest">üå≤ –õ—ñ—Å</button>
                    <button class="theme-btn" data-theme="sunset">üåÖ –ó–∞—Ö—ñ–¥</button>
                </div>
            </div>

            <div class="setting-group">
                <h4>üì± –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–∞–º–µ—Ä–∏</h4>
                <div class="camera-settings">
                    <label class="setting-item">
                        <span>ü§≥ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ø–µ—Ä–µ–¥–Ω—é –∫–∞–º–µ—Ä—É</span>
                        <input type="checkbox" id="frontCameraEnabled" onchange="app.toggleCameraFacing()">
                    </label>
                    <label class="setting-item">
                        <span>üñºÔ∏è –†–æ–∑—Ç—è–≥–Ω—É—Ç–∏ –≤—ñ–¥–µ–æ –Ω–∞ –≤–µ—Å—å –µ–∫—Ä–∞–Ω</span>
                        <input type="checkbox" id="fullScreenVideo" onchange="app.toggleVideoFill()">
                    </label>
                    <label class="setting-item">
                        <span>üì± –ê–≤—Ç–æ–∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω</span>
                        <input type="checkbox" id="autoSaveToPhone" onchange="app.updateSetting('autoSaveToPhone', this.checked)" checked>
                    </label>
                    
                    <label class="setting-item">
                        <span>üåì –¢–µ–º–Ω–∞ —Ç–µ–º–∞</span>
                        <input type="checkbox" id="darkMode" onchange="app.toggleTheme()" checked>
                    </label>
                    
                    <label class="setting-item">
                        <span>üåç –ü–æ–∫–∞–∑—É–≤–∞—Ç–∏ –ø–æ–≥–æ–¥—É</span>
                        <input type="checkbox" id="showWeather" onchange="app.updateSetting('showWeather', this.checked)" checked>
                    </label>
                    <div class="camera-info">
                        <small>–ü–æ—Ç–æ—á–Ω–∞ –∫–∞–º–µ—Ä–∞: <span id="currentCameraInfo">–ü–µ—Ä–µ–¥–Ω—è (—Å–µ–ª—Ñ—ñ)</span></small>
                    </div>
                    <div class="permission-section">
                        <button id="requestPermissionBtn" class="btn btn-primary btn-style-1" onclick="app.requestCameraPermissionManual()" style="display: none;">
                            üé• –î–æ–∑–≤–æ–ª–∏—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –∫–∞–º–µ—Ä–∏
                        </button>
                        <button id="clearPermissionBtn" class="btn btn-secondary btn-style-2" onclick="app.clearAllPermissions()" style="margin-left: 10px;">
                            üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç–∏ –¥–æ–∑–≤–æ–ª–∏
                        </button>
                        <button id="installAppBtn" class="btn btn-primary btn-style-1" onclick="app.showInstallPrompt()" style="margin-left: 10px; display: none;">
                            üì± –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –¥–æ–¥–∞—Ç–æ–∫
                        </button>
                        <div class="permission-status" id="permissionStatus">
                            <span class="permission-indicator" id="permissionIndicator">üî¥</span>
                            <span id="permissionText">–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ–∑–≤–æ–ª—É...</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="setting-group">
                <h4>üíß –í–æ–¥—è–Ω—ñ –∑–Ω–∞–∫–∏</h4>
                <label class="setting-item">
                    <input type="checkbox" id="watermarkEnabled" checked>
                    <span>–î–æ–¥–∞–≤–∞—Ç–∏ –≤–æ–¥—è–Ω—ñ –∑–Ω–∞–∫–∏</span>
                </label>
                <label class="setting-item">
                    <input type="checkbox" id="showDateTime" checked>
                    <span>–ü–æ–∫–∞–∑—É–≤–∞—Ç–∏ —á–∞—Å —Ç–∞ –¥–∞—Ç—É</span>
                </label>
                <label class="setting-item">
                    <input type="checkbox" id="showOwner" checked>
                    <span>–ü–æ–∫–∞–∑—É–≤–∞—Ç–∏ –≤–ª–∞—Å–Ω–∏—Ü—é –ø—Ä–æ–≥—Ä–∞–º–∏</span>
                </label>
                <div class="watermark-preview">
                    <h5>–ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –ø–µ—Ä–µ–≥–ª—è–¥:</h5>
                    <div class="preview-text">
                        <div id="previewDateTime">üìÖ 15 –≥—Ä—É–¥–Ω—è 2024, 14:30:25</div>
                        <div id="previewOwner">üëë –í–ª–∞—Å–Ω–∏—Ü—è –ø—Ä–æ–≥—Ä–∞–º–∏ –ö–∞—Ç–µ—Ä–∏–Ω–∞ –ú–∏–∫–æ–ª–∞—ó–≤–Ω–∞</div>
                    </div>
                </div>
            </div>
            
            <div class="setting-group">
                <h4>üé® –§—ñ–ª—å—Ç—Ä–∏ —Ä–µ—Ç—Ä–æ-—á–∞—Å—É</h4>
                <div class="filter-selector">
                    <button class="filter-btn active" data-filter="none">–ë–µ–∑ —Ñ—ñ–ª—å—Ç—Ä–∞</button>
                    <button class="filter-btn" data-filter="retro90s">90-—Ç—ñ —Ä–æ–∫–∏</button>
                    <button class="filter-btn" data-filter="retro2000s">2000-–Ω—ñ —Ä–æ–∫–∏</button>
                    <button class="filter-btn" data-filter="vintage">–í—ñ–Ω—Ç–∞–∂</button>
                    <button class="filter-btn" data-filter="sepia">–°–µ–ø—ñ—è</button>
                </div>
                <div class="filter-preview">
                    <h5>–ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –ø–µ—Ä–µ–≥–ª—è–¥ —Ñ—ñ–ª—å—Ç—Ä–∞:</h5>
                    <div class="filter-preview-image">
                        <img id="filterPreviewImg" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iI2Y0ZjRmNCIvPjx0ZXh0IHg9IjUwIiB5PSI1MCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjEyIiBmaWxsPSIjNjY2IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+UHJldmlldzwvdGV4dD48L3N2Zz4=" alt="–ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –ø–µ—Ä–µ–≥–ª—è–¥">
                    </div>
                </div>
            </div>
            
            <div class="setting-group">
                <h4>üé¨ –°–ª–∞–π–¥-—à–æ—É</h4>
                <label class="setting-item">
                    <input type="checkbox" id="slideshowEnabled">
                    <span>–£–≤—ñ–º–∫–Ω—É—Ç–∏ —Å–ª–∞–π–¥-—à–æ—É</span>
                </label>
                <div class="slideshow-controls" id="slideshowControls" style="display: none;">
                    <label class="setting-item">
                        <span>–®–≤–∏–¥–∫—ñ—Å—Ç—å (—Å–µ–∫):</span>
                        <input type="range" id="slideshowSpeed" min="1" max="10" value="3" class="speed-slider">
                        <span id="speedValue">3</span>
                    </label>
                    <div class="slideshow-buttons">
                        <button class="slideshow-btn play-btn" id="playSlideshow">‚ñ∂Ô∏è –ì—Ä–∞—Ç–∏</button>
                        <button class="slideshow-btn pause-btn" id="pauseSlideshow" style="display: none;">‚è∏Ô∏è –ü–∞—É–∑–∞</button>
                        <button class="slideshow-btn stop-btn" id="stopSlideshow">‚èπÔ∏è –°—Ç–æ–ø</button>
                    </div>
                </div>
            </div>
            
            <div class="setting-group">
                <h4>üíæ –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è</h4>
                <label class="setting-item">
                    <input type="checkbox" id="autoSave" checked>
                    <span>–ê–≤—Ç–æ–∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —É –±—Ä–∞—É–∑–µ—Ä—ñ</span>
                </label>
                <label class="setting-item">
                    <input type="checkbox" id="autoSaveToDevice">
                    <span>–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –Ω–∞ –ø—Ä–∏—Å—Ç—Ä—ñ–π</span>
                </label>
                <label class="setting-item">
                    <input type="checkbox" id="highQuality">
                    <span>–í–∏—Å–æ–∫–∞ —è–∫—ñ—Å—Ç—å –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è</span>
                </label>
            </div>
            
            <div class="setting-group">
                <h4>üìç –ì–µ–æ–ª–æ–∫–∞—Ü—ñ—è —Ç–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç</h4>
                <label class="setting-item">
                    <input type="checkbox" id="gpsEnabled">
                    <span>–ó–±–µ—Ä—ñ–≥–∞—Ç–∏ GPS –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏</span>
                </label>
                <label class="setting-item">
                    <input type="checkbox" id="weatherEnabled">
                    <span>–ó–±–µ—Ä—ñ–≥–∞—Ç–∏ –ø–æ–≥–æ–¥–Ω—ñ —É–º–æ–≤–∏</span>
                </label>
                <label class="setting-item">
                    <input type="checkbox" id="calendarEnabled">
                    <span>–ó–≤'—è–∑–æ–∫ –∑ –ø–æ–¥—ñ—è–º–∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—è</span>
                </label>
                <div class="location-preview" id="locationPreview" style="display: none;">
                    <h5>–ü–æ—Ç–æ—á–Ω–µ –º—ñ—Å—Ü–µ–∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è:</h5>
                    <div class="location-info">
                        <div id="currentLocation">üìç –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è –º—ñ—Å—Ü–µ–∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è...</div>
                        <div id="currentWeather">üå§Ô∏è –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø–æ–≥–æ–¥–∏...</div>
                    </div>
                </div>
            </div>
            
            <div class="setting-group">
                <h4>üîß –î–æ–¥–∞—Ç–∫–æ–≤—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</h4>
                <label class="setting-item">
                    <input type="checkbox" id="soundEffects">
                    <span>–ó–≤—É–∫–æ–≤—ñ –µ—Ñ–µ–∫—Ç–∏</span>
                </label>
                <label class="setting-item">
                    <input type="checkbox" id="showNotifications">
                    <span>–ü–æ–∫–∞–∑—É–≤–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è</span>
                </label>
            </div>
            
            <button class="close-settings btn-style-1">–ó–∞–∫—Ä–∏—Ç–∏</button>
        </div>
    </div>

    
    <!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ–π –Ω–∞ –ø–æ–≤–Ω–∏–π –µ–∫—Ä–∞–Ω -->
    <div class="photo-viewer-modal" id="photoViewerModal" style="display: none;">
        <div class="photo-viewer-content">
            <!-- –ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä–∏—Ç—Ç—è -->
            <button class="close-viewer-btn" onclick="app.closePhotoViewer()">√ó</button>
            
            <!-- –ù–∞–≤—ñ–≥–∞—Ü—ñ–π–Ω—ñ –∫–Ω–æ–ø–∫–∏ -->
            <button class="nav-btn prev-btn" onclick="app.showPreviousPhoto()" title="–ü–æ–ø–µ—Ä–µ–¥–Ω—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—è">‚Äπ</button>
            <button class="nav-btn next-btn" onclick="app.showNextPhoto()" title="–ù–∞—Å—Ç—É–ø–Ω–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—è">‚Ä∫</button>
            
            <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—ó -->
            <div class="photo-container">
                <img id="fullscreenPhoto" src="" alt="–§–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—è –Ω–∞ –ø–æ–≤–Ω–∏–π –µ–∫—Ä–∞–Ω">
            </div>
            
            <!-- –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—é -->
            <div class="photo-info-bar">
                <div class="photo-main-info">
                    <div class="photo-counter" id="photoCounter"></div>
                    <div class="photo-timestamp" id="photoTimestamp"></div>
                </div>
                <div class="photo-metadata" id="photoMetadata" style="display: none;">
                    <div class="metadata-item" id="photoLocation"></div>
                    <div class="metadata-item" id="photoWeather"></div>
                    <div class="metadata-item" id="photoEvent"></div>
                </div>
                <button class="metadata-toggle-btn" id="metadataToggle" onclick="app.toggleMetadata()">
                    ‚ÑπÔ∏è –î–µ—Ç–∞–ª—ñ
                </button>
            </div>
            
            <!-- –ü–∞–Ω–µ–ª—å –¥—ñ–π -->
            <div class="photo-actions-bar">
                <button class="action-btn save-btn" onclick="app.saveCurrentPhoto()" title="–ó–±–µ—Ä–µ–≥—Ç–∏ –Ω–∞ –ø—Ä–∏—Å—Ç—Ä—ñ–π">
                    üíæ –ó–±–µ—Ä–µ–≥—Ç–∏
                </button>
                <button class="action-btn share-btn" onclick="app.shareCurrentPhoto()" title="–ü–æ–¥—ñ–ª–∏—Ç–∏—Å—è">
                    üì§ –ü–æ–¥—ñ–ª–∏—Ç–∏—Å—è
                </button>
                <button class="action-btn delete-btn" onclick="app.deleteCurrentPhoto()" title="–í–∏–¥–∞–ª–∏—Ç–∏">
                    üóëÔ∏è –í–∏–¥–∞–ª–∏—Ç–∏
                </button>
            </div>
        </div>
    </div>
    
            <script src="script.js?v=48&jsfix=true&buttonfix=true"></script>
            <script src="generate-icon.js?v=fix2024"></script>
            
            <!-- Service Worker –¥–ª—è iOS Safari –æ–±—Ö–æ–¥—É -->
            <script>
                if ('serviceWorker' in navigator) {
                    window.addEventListener('load', function() {
                        navigator.serviceWorker.register('/sw.js')
                            .then(function(registration) {
                                console.log('üîß SW: Registration successful', registration.scope);
                            })
                            .catch(function(err) {
                                console.log('üîß SW: Registration failed', err);
                            });
                    });
                }
                
                // –î–æ–¥–∞—Ç–∫–æ–≤–∏–π –æ–±—Ä–æ–±–Ω–∏–∫ –¥–ª—è –∑–∞–ø—É—Å–∫—É –∫–∞–º–µ—Ä–∏
                document.addEventListener('DOMContentLoaded', function() {
                    // –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É –ø—Ä–æ —Å—Ç–∞–Ω –∫–∞–º–µ—Ä–∏
                    setTimeout(() => {
                        if (typeof app !== 'undefined' && app.video && app.video.videoWidth === 0) {
                            console.log('üì∑ –ö–∞–º–µ—Ä–∞ –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª–∞—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ, –ø–æ–∫–∞–∑—É—î–º–æ –ø—ñ–¥–∫–∞–∑–∫—É');
                            
                            // –ü–æ–∫–∞–∑—É—î–º–æ –ø—ñ–¥–∫–∞–∑–∫—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É
                            const hint = document.createElement('div');
                            hint.style.cssText = `
                                position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
                                background: rgba(0,0,0,0.9); color: white; padding: 20px;
                                border-radius: 15px; text-align: center; z-index: 9999;
                                max-width: 90%; font-size: 1.1rem; backdrop-filter: blur(10px);
                            `;
                            hint.innerHTML = `
                                <h3>üì∏ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–∞–º–µ—Ä–∏</h3>
                                <p>–î–ª—è —Ä–æ–±–æ—Ç–∏ –∫–∞–º–µ—Ä–∏ –ø–æ—Ç—Ä—ñ–±–µ–Ω –¥–æ–∑–≤—ñ–ª</p>
                                <button onclick="this.parentElement.remove(); app.requestCameraPermissionManual();" 
                                        style="background: #4CAF50; color: white; border: none; padding: 10px 20px; 
                                               border-radius: 8px; font-size: 1rem; cursor: pointer; margin-top: 10px;">
                                    üé• –î–æ–∑–≤–æ–ª–∏—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –∫–∞–º–µ—Ä–∏
                                </button>
                                <button onclick="this.parentElement.remove();" 
                                        style="background: #666; color: white; border: none; padding: 10px 20px; 
                                               border-radius: 8px; font-size: 1rem; cursor: pointer; margin: 10px 0 0 10px;">
                                    –ó–∞–∫—Ä–∏—Ç–∏
                                </button>
                            `;
                            document.body.appendChild(hint);
                        }
                    }, 3000);
                });
            </script>
</body>
</html>
